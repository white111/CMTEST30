################################################################################
#
# Module:      Check_IMC_PCI_V.inc
#
# Author:      Joe White
#
# Descr:       Called by Bench_IMC.dat
#
# Version:    1.6 $Id: Check_IMC_PCI_V.inc,v 1.7 2009/05/07 15:50:10 joe Exp $
#
# Changes:    Added <GetData>
#			  12/12/07 Updates for 12/1/07 image
#			  121307 Update for MCO M00130
#			  031808 Finding both types of marvel Controller removein check after Dev ID #
#			  102908 Change memory Other to Memory
#			  102213 6.0 uboo changes to output
#
#
# Still ToDo:
#
#
#            Copyright (c) 2005-2008 Stoke. All rights reserved.
#
################################################################################
<Msg>		"Checking PCI inventory..."
<Timeout>	20
<Send>		""
<Wait>
<Send>		"pci -v"
<Wait>
<Sleep>		2
<GetData>
<CheckData>		'PCI version    = 2.10'
<CheckData>		'Class          = Memory '
<CheckData>		'Vendor ID      = 11abh, Marvell Technology Group Ltd.'
<CheckData>		'Device ID      = 648[05]h'
<CheckData>		'PCI index      = 0h'
<CheckData>		'Class Codes    = 058000h'
<CheckData>		'Revision ID    = [24]h'
<CheckData>		'Bus number     = 0'
<CheckData>		'Device number  = 0'
<CheckData>		'Function num   = 0'
<CheckData>		'Status Reg     = 62b0h'
<CheckData>		'Command Reg    = 147h'
<CheckData>		'Header type    = 0h Multi-function'
<CheckData>		'BIST           = 80h Selftest OK'
<CheckData>		'Latency Timer  = 0h'
<CheckData>		'Cache Line Size= 8h un-cacheable'
<CheckData>		'Max Lat        = 0ns'
<CheckData>		'Min Gnt        = 0ns'
<CheckData>		'PCI Int Pin    = INT A'
<CheckData>		'Interrupt line = 0'
<CheckData>		'CPU Interrupt  = 0h'
<CheckData>		'Class          = Memory '
<CheckData>		'Vendor ID      = 11abh, Marvell Technology Group Ltd.'
<CheckData>		'Device ID      = 648[05]h'
<CheckData>		'PCI index      = 2h'
<CheckData>		'Class Codes    = 058000h'
<CheckData>		'Revision ID    = [24]h'
<CheckData>		'Bus number     = 0'
<CheckData>		'Device number  = 0'
<CheckData>		'Function num   = 1'
<CheckData>		'Status Reg     = 62b0h'
<CheckData>		'Command Reg    = 147h'
<CheckData>		'Header type    = 0h Multi-function'
<CheckData>		'BIST           = 80h Selftest OK'
<CheckData>		'Latency Timer  = 0h'
<CheckData>		'Cache Line Size= 8h un-cacheable'
<CheckData>		'Max Lat        = 0ns'
<CheckData>		'Min Gnt        = 0ns'
<CheckData>		'PCI Int Pin    = INT A'
<CheckData>		'Interrupt line = 0'
<CheckData>		'CPU Interrupt  = 0h'
<CheckData>		'Class          = Memory '
<CheckData>		'Vendor ID      = 11abh, Marvell Technology Group Ltd.'
<CheckData>		'Device ID      = 648[05]h'
<CheckData>		'PCI index      = 3h'
<CheckData>		'Class Codes    = 058000h'
<CheckData>		'Revision ID    = [24]h'
<CheckData>		'Bus number     = 0'
<CheckData>		'Device number  = 0'
<CheckData>		'Function num   = 2'
<CheckData>		'Status Reg     = 62b0h'
<CheckData>		'Command Reg    = 147h'
<CheckData>		'Header type    = 0h Multi-function'
<CheckData>		'BIST           = 80h Selftest OK'
<CheckData>		'Latency Timer  = 0h'
<CheckData>		'Cache Line Size= 8h un-cacheable'
<CheckData>		'Max Lat        = 0ns'
<CheckData>		'Min Gnt        = 0ns'
<CheckData>		'PCI Int Pin    = INT A'
<CheckData>		'Interrupt line = 0'
<CheckData>		'CPU Interrupt  = 0h'
<CheckData>		'Class          = Memory '
<CheckData>		'Vendor ID      = 11abh, Marvell Technology Group Ltd.'
<CheckData>		'Device ID      = 648[05]h'
<CheckData>		'PCI index      = 4h'
<CheckData>		'Class Codes    = 058000h'
<CheckData>		'Revision ID    = [24]h'
<CheckData>		'Bus number     = 0'
<CheckData>		'Device number  = 0'
<CheckData>		'Function num   = 3'
<CheckData>		'Status Reg     = 62b0h'
<CheckData>		'Command Reg    = 147h'
<CheckData>		'Header type    = 0h Multi-function'
<CheckData>		'BIST           = 80h Selftest OK'
<CheckData>		'Latency Timer  = 0h'
<CheckData>		'Cache Line Size= 8h un-cacheable'
<CheckData>		'Max Lat        = 0ns'
<CheckData>		'Min Gnt        = 0ns'
<CheckData>		'PCI Int Pin    = INT A'
<CheckData>		'Interrupt line = 0'
<CheckData>		'CPU Interrupt  = 0h'
<CheckData>		'Class          = Memory '
<CheckData>		'Vendor ID      = 11abh, Marvell Technology Group Ltd.'
<CheckData>		'Device ID      = 648[05]h'
<CheckData>		'PCI index      = 5h'
<CheckData>		'Class Codes    = 058000h'
<CheckData>		'Revision ID    = [24]h'
<CheckData>		'Bus number     = 0'
<CheckData>		'Device number  = 0'
<CheckData>		'Function num   = 4'
<CheckData>		'Status Reg     = 62b0h'
<CheckData>		'Command Reg    = 147h'
<CheckData>		'Header type    = 0h Multi-function'
<CheckData>		'BIST           = 80h Selftest OK'
<CheckData>		'Latency Timer  = 0h'
<CheckData>		'Cache Line Size= 8h un-cacheable'
<CheckData>		'Max Lat        = 0ns'
<CheckData>		'Min Gnt        = 0ns'
<CheckData>		'PCI Int Pin    = INT A'
<CheckData>		'Interrupt line = 0'
<CheckData>		'CPU Interrupt  = 0h'
<CheckData>		'Class          = Memory '
<CheckData>		'Vendor ID      = 11abh, Marvell Technology Group Ltd.'
<CheckData>		'Device ID      = 648[05]h'
<CheckData>		'PCI index      = 6h'
<CheckData>		'Class Codes    = 058000h'
<CheckData>		'Revision ID    = [24]h'
<CheckData>		'Bus number     = 0'
<CheckData>		'Device number  = 0'
<CheckData>		'Function num   = 5'
<CheckData>		'Status Reg     = 0h'
<CheckData>		'Command Reg    = 0h'
<CheckData>		'Header type    = 0h Multi-function'
<CheckData>		'BIST           = 80h Selftest OK'
<CheckData>		'Latency Timer  = 0h'
<CheckData>		'Cache Line Size= 8h un-cacheable'
<CheckData>		'Max Lat        = 0ns'
<CheckData>		'Min Gnt        = 0ns'
<CheckData>		'PCI Int Pin    = INT A'
<CheckData>		'Interrupt line = 0'
<CheckData>		'CPU Interrupt  = 0h'
<CheckData>		'Class          = Memory '
<CheckData>		'Vendor ID      = 11abh, Marvell Technology Group Ltd.'
<CheckData>		'Device ID      = 648[05]h'
<CheckData>		'PCI index      = 7h'
<CheckData>		'Class Codes    = 058000h'
<CheckData>		'Revision ID    = [24]h'
<CheckData>		'Bus number     = 0'
<CheckData>		'Device number  = 0'
<CheckData>		'Function num   = 6'
<CheckData>		'Status Reg     = 0h'
<CheckData>		'Command Reg    = 0h'
<CheckData>		'Header type    = 0h Multi-function'
<CheckData>		'BIST           = 80h Selftest OK'
<CheckData>		'Latency Timer  = 0h'
<CheckData>		'Cache Line Size= 8h un-cacheable'
<CheckData>		'Max Lat        = 0ns'
<CheckData>		'Min Gnt        = 0ns'
<CheckData>		'PCI Int Pin    = INT A'
<CheckData>		'Interrupt line = 0'
<CheckData>		'CPU Interrupt  = 0h'
<CheckData>		'Class          = Memory '
<CheckData>		'Vendor ID      = 11abh, Marvell Technology Group Ltd.'
<CheckData>		'Device ID      = 648[05]h'
<CheckData>		'PCI index      = 8h'
<CheckData>		'Class Codes    = 058000h'
<CheckData>		'Revision ID    = [24]h'
<CheckData>		'Bus number     = 0'
<CheckData>		'Device number  = 0'
<CheckData>		'Function num   = 7'
<CheckData>		'Status Reg     = 0h'
<CheckData>		'Command Reg    = 0h'
<CheckData>		'Header type    = 0h Multi-function'
<CheckData>		'BIST           = 80h Selftest OK'
<CheckData>		'Latency Timer  = 0h'
<CheckData>		'Cache Line Size= 8h un-cacheable'
<CheckData>		'Max Lat        = 0ns'
<CheckData>		'Min Gnt        = 0ns'
<CheckData>		'PCI Int Pin    = INT A'
<CheckData>		'Interrupt line = 0'
<CheckData>		'CPU Interrupt  = 0h'
<CheckData>		'Class          = Bridge \(CardBus\)'
<CheckData>		'Vendor ID      = 104ch, Texas Instruments '
<CheckData>		'Device ID      = ac55h,  PCI1520 PC card Cardbus Controller'
<CheckData>		'PCI index      = 0h'
<CheckData>		'Class Codes    = 060700h'
<CheckData>		'Revision ID    = 1h'
<CheckData>		'Bus number     = 0'
<CheckData>		'Device number  = 3'
<CheckData>		'Function num   = 0'
<CheckData>		'Status Reg     = 210h'
<CheckData>		'Command Reg    = 7h'
<CheckData>		'Header type    = 2h Multi-function'
<CheckData>		'BIST           = 0h Build-in-self-test not supported'
<CheckData>		'Latency Timer  = 80h'
<CheckData>		'Cache Line Size= 8h un-cacheable'
<CheckData>		'ExCA Base Address        = 80007000h'
<CheckData>		'Capabilities Pointer     = a0h'
<CheckData>		'Secondary Status         = 200h'
<CheckData>		'Primary Bus Number       = 0'
<CheckData>		'Secondary Bus Number     = 0'
<CheckData>		'Subordinate Bus Number   = 0'
<CheckData>		'Secondary Latency Timer  = 20h'
<CheckData>		'Memory Base 0            = 0h'
<CheckData>		'Memory Limit 0           = 0h'
<CheckData>		'Memory Base 1            = 0h'
<CheckData>		'Memory Limit 1           = 0h'
<CheckData>		'I/O Base 0               = 0h'
<CheckData>		'I/O Limit 0              = 0h'
<CheckData>		'I/O Base 1               = 0h'
<CheckData>		'I/O Limit 1              = 0h'
<CheckData>		'PCI Int Pin              = 1'
<CheckData>		'PCI Int Pin              = INT A'
<CheckData>		'Interrupt line           = 3'
<CheckData>		'CPU Interrupt            = 44h'
<CheckData>		'Bridge Control           = 740h'
<CheckData>		'Subsystem Vendor ID      = 0h'
<CheckData>		'Subsystem ID             = 0h'
<CheckData>		'Legacy Mode Base Address = 0h'
<CheckData>		'System Control           = 2844b020h'
<CheckData>		'Retry Status             = c0h'
<CheckData>		'Card Control             = 1h'
<CheckData>		'Device Control           = 60h'
<CheckData>		'Buffer Control           = 60h'
<CheckData>		'Socket DMA Register 0    = 0h'
<CheckData>		'Socket DMA Register 1    = 0h'
<CheckData>		'Class          = Bridge \(CardBus\)'
<CheckData>		'Vendor ID      = 104ch, Texas Instruments '
<CheckData>		'Device ID      = ac55h,  PCI1520 PC card Cardbus Controller'
<CheckData>		'PCI index      = 1h'
<CheckData>		'Class Codes    = 060700h'
<CheckData>		'Revision ID    = 1h'
<CheckData>		'Bus number     = 0'
<CheckData>		'Device number  = 3'
<CheckData>		'Function num   = 1'
<CheckData>		'Status Reg     = 210h'
<CheckData>		'Command Reg    = 7h'
<CheckData>		'Header type    = 2h Multi-function'
<CheckData>		'BIST           = 0h Build-in-self-test not supported'
<CheckData>		'Latency Timer  = 20h'
<CheckData>		'Cache Line Size= 0h '
<CheckData>		'ExCA Base Address        = 80000000h'
<CheckData>		'Capabilities Pointer     = a0h'
<CheckData>		'Secondary Status         = 200h'
<CheckData>		'Primary Bus Number       = 0'
<CheckData>		'Secondary Bus Number     = 0'
<CheckData>		'Subordinate Bus Number   = 0'
<CheckData>		'Secondary Latency Timer  = 20h'
<CheckData>		'Memory Base 0            = 0h'
<CheckData>		'Memory Limit 0           = 0h'
<CheckData>		'Memory Base 1            = 0h'
<CheckData>		'Memory Limit 1           = 0h'
<CheckData>		'I/O Base 0               = 0h'
<CheckData>		'I/O Limit 0              = 0h'
<CheckData>		'I/O Base 1               = 0h'
<CheckData>		'I/O Limit 1              = 0h'
<CheckData>		'PCI Int Pin              = 1'
<CheckData>		'PCI Int Pin              = INT A'
#WAS  <CheckData>		'Interrupt line           = 4'
<CheckData>		'Interrupt line           = 3'
<CheckData>		'CPU Interrupt            = 44h'
<CheckData>		'Bridge Control           = 740h'
<CheckData>		'Subsystem Vendor ID      = 0h'
<CheckData>		'Subsystem ID             = 0h'
<CheckData>		'Legacy Mode Base Address = 0h'
<CheckData>		'System Control           = 2844b020h'
<CheckData>		'Retry Status             = c0h'
<CheckData>		'Card Control             = 1h'
<CheckData>		'Device Control           = 60h'
<CheckData>		'Buffer Control           = 60h'
<CheckData>		'Socket DMA Register 0    = 0h'
<CheckData>		'Socket DMA Register 1    = 0h'
<CheckData>		'Class          = Mass Storage \(SCSI\)'
<CheckData>		'Vendor ID      = 11abh, Marvell Technology Group Ltd.'
<CheckData>		'Device ID      = 5040h,  MV88SX5040 4-port SATA I PCI-X Controller'
<CheckData>		'PCI index      = 0h'
<CheckData>		'Class Codes    = 010000h'
<CheckData>		'Revision ID    = 3h'
<CheckData>		'Bus number     = 0'
<CheckData>		'Device number  = 4'
<CheckData>		'Function num   = 0'
<CheckData>		'Status Reg     = 2b0h'
<CheckData>		'Command Reg    = 6h'
<CheckData>		'Header type    = 0h Single-function'
<CheckData>		'BIST           = 0h Build-in-self-test not supported'
<CheckData>		'Latency Timer  = 80h'
<CheckData>		'Cache Line Size= 8h un-cacheable'
<CheckData>		".*Mem.*= 80080000h 64bit length 524288 enabled"
<CheckData>		'Max Lat        = 0ns'
<CheckData>		'Min Gnt        = 0ns'
<CheckData>		'PCI Int Pin    = INT A'
<CheckData>		'Interrupt line = 72'
<CheckData>		'CPU Interrupt  = 48h'
<CheckData>		'Class          = Network \(Ethernet\)'
<CheckData>		'Vendor ID      = 11abh, Marvell Technology Group Ltd.'
<CheckData>		'Device ID      = d804h, Unknown Unknown'
<CheckData>		'PCI index      = 0h'
<CheckData>		'Class Codes    = 020000h'
<CheckData>		'Revision ID    = [12]h'
<CheckData>		'Bus number     = 0'
<CheckData>		'Device number  = 13'
<CheckData>		'Function num   = 0'
<CheckData>		'Status Reg     = 2a0h'
<CheckData>		'Command Reg    = 6h'
<CheckData>		'Header type    = 0h Single-function'
<CheckData>		'BIST           = 0h Build-in-self-test not supported'
<CheckData>		'Latency Timer  = ffh'
<CheckData>		'Cache Line Size= 8h un-cacheable'
<CheckData>		'.*Mem.*= 80100000h 32bit length 4096 enabled'
<CheckData>		'.*Mem.*= 84000000h 32bit length 67108864 enabled'
<CheckData>		'Max Lat        = 0ns'
<CheckData>		'Min Gnt        = 0ns'
<CheckData>		'PCI Int Pin    = INT A'
<CheckData>		'Interrupt line = 73'
<CheckData>		'CPU Interrupt  = 49h'
<CheckData>		'Class          = Network \(Ethernet\)'
<CheckData>		'Vendor ID      = 11abh, Marvell Technology Group Ltd.'
<CheckData>		'Device ID      = d804h, Unknown Unknown'
<CheckData>		'PCI index      = 1h'
<CheckData>		'Class Codes    = 020000h'
<CheckData>		'Revision ID    = [12]h'
<CheckData>		'Bus number     = 0'
<CheckData>		'Device number  = 15'
<CheckData>		'Function num   = 0'
<CheckData>		'Status Reg     = 2a0h'
<CheckData>		'Command Reg    = 6h'
<CheckData>		'Header type    = 0h Single-function'
<CheckData>		'BIST           = 0h Build-in-self-test not supported'
<CheckData>		'Latency Timer  = ffh'
<CheckData>		'Cache Line Size= 8h un-cacheable'
<CheckData>		'.*Mem.*= 88000000h 32bit length 4096 enabled'
<CheckData>		'.*Mem.*= 8c000000h 32bit length 67108864 enabled'
<CheckData>		'Max Lat        = 0ns'
<CheckData>		'Min Gnt        = 0ns'
<CheckData>		'PCI Int Pin    = INT A'
<CheckData>		'Interrupt line = 79'
<CheckData>		'CPU Interrupt  = 4fh'
